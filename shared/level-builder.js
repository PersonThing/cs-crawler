import { Textures } from './textures.js'
import Block from './block.js'
import Level from './level.js'
import Tile from './tile.js'

const textureMap = {
  0: null,
  1: Textures.Bricks,
  2: Textures.BricksTop,
  3: Textures.Stone,
}

export const generateSampleLevel = (stage) => {
  const level = new Level(stage)

  const tileDoorRightTop = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 1],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  ]

  const tileDoorLeft = [
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  ]

  const tileDoorRightBottom = [
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 1],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
  ]

  const tileDoorRightTopBottom = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 1],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
  ]

  const tileDoorLeftTop = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  ]

  const tileDoorLeftTopBottom = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
  ]

  const tileDoorLeftRightTop = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 1],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  ]

  const tileDoorLeftBottom = [
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
  ]

  const tileDoorLeftRightBottom = [
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 2],
    [1, 3, 3, 3, 3, 3, 3, 3, 3, 1],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
  ]

  const tileDoorTop = [
    [2, 2, 2, 3, 3, 3, 3, 2, 2, 2],
    [2, 1, 1, 3, 3, 3, 3, 1, 1, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 3, 3, 3, 3, 3, 3, 3, 3, 2],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  ]

  const tileHallwayVertical = [
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
    [0, 0, 2, 3, 3, 3, 3, 2, 0, 0],
  ]

  const tileHallwayHorizontal = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
    [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  ]

  const t = (config) => {
    const tile = new Tile()
    config.forEach((row, y) => {
      row.forEach((n, x) => {
        tile.setBlock(
          new Block({
            x,
            y,
            canWalk: n == 3 ? true : false,
            canSeeThrough: n == 3 ? true : false,
            canShootThrough: n == 3 ? true : false,
            texture: textureMap[n],
          })
        )
      })
    })
    return tile
  }

  level.tileGrid = [
    [
      t(tileDoorRightBottom),
      t(tileHallwayHorizontal),
      t(tileDoorLeftBottom)],
    [
      t(tileDoorRightTopBottom),
      t(tileDoorLeftRightBottom),
      t(tileDoorLeftTop),
      t(tileDoorRightBottom),
      t(tileDoorLeft),
    ],
    [
      t(tileDoorRightTop),
      t(tileDoorLeftRightTop),
      t(tileHallwayHorizontal),
      t(tileDoorLeftTopBottom),
    ],
    [
      null,
      null,
      null,
      t(tileHallwayVertical)
    ],
    [
      null,
      null,
      null,
      t(tileDoorRightTop),
      t(tileHallwayHorizontal),
      t(tileDoorLeftRightBottom),
      t(tileDoorLeft),
    ],
    [null, null, null, null, null, t(tileDoorTop)],
  ]

  return level
}
